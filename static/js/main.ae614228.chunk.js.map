{"version":3,"sources":["components/Field/Field.jsx","components/Intro/Intro.jsx","components/Modal/Modal.jsx","patterns/Patterns.js","App.js","index.js"],"names":["Field","value","chooseField","className","onClick","Intro","submitPlayers","name1","name2","setName1","setName2","onSubmit","htmlFor","type","name","placeholder","id","onChange","e","target","Modal","active","cn","modal","modal__content","Patterns","App","useState","Array","fill","board","setBoard","symbol","setSymbol","winner","state","result","setResult","modalActive","setModalActive","player1","setPlayer1","player2","setPlayer2","win1","setWin1","win2","setWin2","games","setGames","gamesIncrease","useCallback","restartGame","prevState","checkWin","forEach","currPattern","firstPlayer","foundWinningPattern","index","console","log","checkIfTie","filled","field","useEffect","alert","map","v","i","ar","key","setActive","event","preventDefault","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.ae614228.chunk.js","sourcesContent":["import React from 'react';\nimport '../../App.css';\n\nfunction Field({ value, chooseField }) {\n  return (\n    <div className=\"field\" onClick={chooseField}>\n      {value}\n    </div>\n  );\n}\n\nexport default Field;\n","import React, { useState } from 'react';\nimport './intro.css';\n\nfunction Intro({ submitPlayers, name1, name2, setName1, setName2 }) {\n\n  const handleChange1 = (e) => {\n    setName1(e.target.value);\n  };\n\n  const handleChange2 = (e) => {\n    setName2(e.target.value);\n  };\n\n  return (\n    <>\n      <form className=\"players\" onSubmit={submitPlayers}>\n        <label htmlFor=\"id-1st\">\n          <h3 className=\"players__title\">Input 1st player&apos;s name:</h3>\n        </label>\n        <input\n          className=\"players__input\"\n          type=\"text\"\n          name=\"name1\"\n          placeholder=\"1st player name\"\n          id=\"id-1st\"\n          value={name1}\n          onChange={handleChange1}\n        />\n        <label htmlFor=\"id-2d\">\n          <h3 className=\"players__title\">\n            Input 2d player&apos;s name:\n          </h3>\n        </label>\n        <input\n          className=\"players__input\"\n          type=\"text\"\n          name=\"name2\"\n          id=\"id-2d\"\n          placeholder=\"2d player name\"\n          value={name2}\n          onChange={handleChange2}\n        />\n\n        <button\n          className=\"players__submit\"\n          type=\"submit\"\n          // name=\"submitPlayers\"\n\n        >\n          Start game\n        </button>\n      </form>\n    </>\n  );\n}\n\nexport default Intro;\n","import React from 'react';\nimport cn from 'classnames';\nimport Intro from '../Intro/Intro';\nimport './modal.css';\n\nfunction Modal({ active, submitPlayers, name1, name2, setName1, setName2 }) {\n  return (\n    <div\n      className={cn({\n        modal: true,\n        active: active === true,\n        'non-active': !active,\n      })}\n    >\n      <div\n        className={cn({\n          modal__content: true,\n          active: active === true,\n          'non-active': !active,\n        })}\n      >\n        <Intro\n          submitPlayers={submitPlayers}\n          name1={name1}\n          name2={name2}\n          setName1={setName1}\n          setName2={setName2}\n        />\n      </div>\n    </div>\n  );\n}\n\nexport default Modal;\n","const Patterns = [\n  [0, 1, 2],\n  [3, 4, 5],\n  [6, 7, 8],\n  [0, 3, 6],\n  [1, 4, 7],\n  [2, 5, 8],\n  [0, 4, 8],\n  [2, 4, 6],\n];\n\nexport default Patterns;\n","/* eslint-disable react/no-array-index-key */\nimport './App.css';\nimport React, { useState, useEffect, useCallback } from 'react';\nimport Field from './components/Field/Field';\nimport Modal from './components/Modal/Modal';\nimport Patterns from './patterns/Patterns';\n\nfunction App() {\n  const [board, setBoard] = useState(Array(9).fill(''));\n  const [symbol, setSymbol] = useState('O');\n  const [result, setResult] = useState({ winner: 'none', state: 'none' });\n  const [modalActive, setModalActive] = useState(true);\n  const [name1, setName1] = useState('');\n  const [name2, setName2] = useState('');\n  const [player1, setPlayer1] = useState(null);\n  const [player2, setPlayer2] = useState(null);\n  const [win1, setWin1] = useState(0);\n  const [win2, setWin2] = useState(0);\n  const [games, setGames] = useState(0);\n\n  const gamesIncrease = useCallback(() => {\n    setGames(games + 1);\n  }, [result]);\n\n  const chooseField = (field) => {\n    setBoard(board.map((value, index) => {\n      if (index === field && value === '') {\n        return symbol;\n      }\n\n      return value;\n    }));\n  };\n\n  const restartGame = () => {\n    setBoard(Array(9).fill(''));\n    setResult(prevState => ({\n      ...prevState,\n      'winner': 'none',\n      'state': 'none'\n    }));\n  };\n\n  const checkWin = useCallback(() => {\n    Patterns.forEach((currPattern) => {\n      const firstPlayer = board[currPattern[0]];\n\n      if (firstPlayer === '') {\n        return;\n      }\n\n      let foundWinningPattern = true;\n\n      currPattern.forEach((index) => {\n        if (board[index] !== firstPlayer) {\n          foundWinningPattern = false;\n        }\n      });\n      if (foundWinningPattern) {\n        setResult(prevState => ({\n          ...prevState,\n          winner: symbol,\n          state: 'won',\n        }));\n        console.log(`${symbol} won!`);\n        console.log(result.symbol, result.state);\n        gamesIncrease();\n\n        if (symbol === 'X') {\n          setWin1(win1 + 1);\n        } else {\n          setWin2(win2 + 1);\n        }\n        restartGame();\n        console.log(`symbol after restart ${symbol}`);\n        if (games % 2 === 0) {\n          setSymbol('X');\n          console.log('set x');\n        } else {\n          setSymbol('O');\n          console.log('set o');\n        }\n        restartGame();\n        console.log(`symbol after settings ${symbol}`);\n      }\n    });\n  }, [board]);\n\n  const checkIfTie = useCallback(() => {\n    let filled = true;\n\n    board.forEach((field) => {\n      if (field === '') {\n        filled = false;\n      }\n    });\n    if (filled) {\n      setResult({ winner: 'No One', state: 'Tie' });\n      gamesIncrease();\n      setWin1(win1 + 0.5);\n      setWin2(win2 + 0.5);\n      restartGame();\n    }\n  }, [board]);\n\n  useEffect(() => {\n    checkWin();\n    checkIfTie();\n    if (result.state === 'none') {\n      if (symbol === 'X') {\n        setSymbol('O');\n      } else {\n        setSymbol('X');\n      }\n    }\n  }, [board, result]);\n\n  useEffect(() => {\n    if (result.state !== 'none') {\n      alert(`Game Finished! Winning player: ${result.winner}`);\n    }\n  }, [result]);\n\n  const submitPlayers = (event) => {\n    event.preventDefault();\n    setPlayer1(name1);\n    setPlayer2(name2);\n    setName1('');\n    setName2('');\n    setModalActive(false);\n  };\n\n  return (\n    <div className=\"App\">\n      <div className=\"container\">\n        <div className=\"frame left\">\n          <div className=\"board\">\n            {board.map((v, i, ar) => (\n              <Field\n                className=\"field\"\n                key={i}\n                value={board[i]}\n                chooseField={() => {\n                  chooseField(i);\n                }}\n              />\n            ))\n            }\n          </div>\n        </div>\n\n        <div className=\"frame right\">\n          <p>\n            Score\n          </p>\n          <p>\n            {`${player1 && player1}:\n            ${win1 && win1}`}\n          </p>\n          <p>\n            {`${player2 && player2}:\n            ${win1 && win2}`}\n          </p>\n        </div>\n        <Modal\n          active={modalActive}\n          setActive={setModalActive}\n          submitPlayers={submitPlayers}\n          name1={name1}\n          name2={name2}\n          setName1={setName1}\n          setName2={setName2}\n        />\n      </div>\n    </div>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './styles.css';\n\nimport App from './App';\n\nReactDOM.render(\n  <App />,\n  document.getElementById('root'),\n);\n"],"sourceRoot":""}