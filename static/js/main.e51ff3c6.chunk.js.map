{"version":3,"sources":["components/Field/Field.jsx","components/Intro/Intro.jsx","components/Modal/Modal.jsx","patterns/Patterns.js","App.js","index.js"],"names":["Field","value","chooseField","className","onClick","Intro","submitPlayers","name1","name2","setName1","setName2","onSubmit","type","name","placeholder","onChange","e","target","Modal","active","cn","modal","modal__content","Patterns","App","useState","Array","fill","board","setBoard","symbol","setSymbol","winner","state","result","setResult","modalActive","setModalActive","player1","setPlayer1","player2","setPlayer2","win1","setWin1","win2","setWin2","games","setGames","gamesIncrease","useCallback","restartGame","checkWin","forEach","currPattern","firstPlayer","foundWinningPattern","index","console","log","checkIfTie","filled","field","useEffect","alert","map","v","i","ar","key","setActive","event","preventDefault","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.e51ff3c6.chunk.js","sourcesContent":["import React from 'react';\nimport '../../App.css';\n\nfunction Field({ value, chooseField }) {\n  return (\n    <div className=\"field\" onClick={chooseField}>\n      {value}\n    </div>\n  );\n}\n\nexport default Field;\n","import React, { useState } from 'react';\nimport './intro.css';\n\nfunction Intro({ submitPlayers, name1, name2, setName1, setName2 }) {\n\n  const handleChange1 = (e) => {\n    setName1(e.target.value);\n  };\n\n  const handleChange2 = (e) => {\n    setName2(e.target.value);\n  };\n\n  return (\n    <>\n      <form className=\"players\" onSubmit={submitPlayers}>\n        <h3>Input 1st player&apos;s name:</h3>\n        <input\n          className=\"players__input\"\n          type=\"text\"\n          name=\"name1\"\n          placeholder=\"1st player name\"\n          value={name1}\n          onChange={handleChange1}\n        />\n        <h3>Input 2d player&apos;s name:</h3>\n        <input\n          className=\"players__input\"\n          type=\"text\"\n          name=\"name2\"\n          placeholder=\"2d player name\"\n          value={name2}\n          onChange={handleChange2}\n        />\n        <button\n          className=\"players__submit\"\n          type=\"submit\"\n          // name=\"submitPlayers\"\n\n        >\n          Start game\n        </button>\n      </form>\n    </>\n  );\n}\n\nexport default Intro;\n","import React from 'react';\nimport cn from 'classnames';\nimport Intro from '../Intro/Intro';\nimport './modal.css';\n\nfunction Modal({ active, submitPlayers, name1, name2, setName1, setName2 }) {\n  return (\n    <div\n      className={cn({\n        modal: true,\n        active: active === true,\n        'non-active': !active,\n      })}\n    >\n      <div\n        className={cn({\n          modal__content: true,\n          active: active === true,\n          'non-active': !active,\n        })}\n      >\n        <Intro\n          submitPlayers={submitPlayers}\n          name1={name1}\n          name2={name2}\n          setName1={setName1}\n          setName2={setName2}\n        />\n      </div>\n    </div>\n  );\n}\n\nexport default Modal;\n","const Patterns = [\n  [0, 1, 2],\n  [3, 4, 5],\n  [6, 7, 8],\n  [0, 3, 6],\n  [1, 4, 7],\n  [2, 5, 8],\n  [0, 4, 8],\n  [2, 4, 6],\n];\n\nexport default Patterns;\n","/* eslint-disable react/no-array-index-key */\nimport './App.css';\nimport React, { useState, useEffect, useCallback } from 'react';\nimport Field from './components/Field/Field';\nimport Modal from './components/Modal/Modal';\nimport Patterns from './patterns/Patterns';\n\nfunction App() {\n  const [board, setBoard] = useState(Array(9).fill(''));\n  const [symbol, setSymbol] = useState('O');\n  const [result, setResult] = useState({ winner: 'none', state: 'none' });\n  const [modalActive, setModalActive] = useState(true);\n  const [name1, setName1] = useState('');\n  const [name2, setName2] = useState('');\n  const [player1, setPlayer1] = useState(null);\n  const [player2, setPlayer2] = useState(null);\n  const [win1, setWin1] = useState(0);\n  const [win2, setWin2] = useState(0);\n  const [games, setGames] = useState(0);\n\n  const gamesIncrease = useCallback(() => {\n    setGames(games + 1);\n  }, [result]);\n\n  const chooseField = (field) => {\n    setBoard(board.map((value, index) => {\n      if (index === field && value === '') {\n        return symbol;\n      }\n\n      return value;\n    }));\n  };\n\n  const restartGame = () => {\n    setBoard(Array(9).fill(''));\n    setResult({ winner: 'none', state: 'none' });\n  };\n\n  const checkWin = useCallback(() => {\n    Patterns.forEach((currPattern) => {\n      const firstPlayer = board[currPattern[0]];\n\n      if (firstPlayer === '') {\n        return;\n      }\n\n      let foundWinningPattern = true;\n\n      currPattern.forEach((index) => {\n        if (board[index] !== firstPlayer) {\n          foundWinningPattern = false;\n        }\n      });\n      if (foundWinningPattern) {\n        setResult({ winner: symbol, state: 'won' });\n        console.log(`${symbol} won!`);\n        gamesIncrease();\n\n        if (symbol === 'X') {\n          setWin1(win1 + 1);\n        } else {\n          setWin2(win2 + 1);\n        }\n        if (games % 2 === 0) {\n          setSymbol('X');\n        } else {\n          setSymbol('O');\n        }\n        restartGame();\n        console.log(`symbol after restart ${symbol}`);\n      }\n    });\n  }, [board]);\n\n  const checkIfTie = useCallback(() => {\n    let filled = true;\n\n    board.forEach((field) => {\n      if (field === '') {\n        filled = false;\n      }\n    });\n    if (filled) {\n      setResult({ winner: 'No One', state: 'Tie' });\n      gamesIncrease();\n      setWin1(win1 + 0.5);\n      setWin2(win2 + 0.5);\n      restartGame();\n    }\n  }, [board]);\n\n  useEffect(() => {\n    checkWin();\n    checkIfTie();\n    if (result.state === 'none') {\n      if (symbol === 'X') {\n        setSymbol('O');\n      } else {\n        setSymbol('X');\n      }\n    }\n  }, [board]);\n\n  useEffect(() => {\n    if (result.state !== 'none') {\n      alert(`Game Finished! Winning player: ${result.winner}`);\n    }\n  }, [result]);\n\n  const submitPlayers = (event) => {\n    event.preventDefault();\n    setPlayer1(name1);\n    setPlayer2(name2);\n    setName1('');\n    setName2('');\n    setModalActive(false);\n  };\n\n  return (\n    <div className=\"App\">\n      <div className=\"container\">\n        <div className=\"frame left\">\n          <div className=\"board\">\n            {board.map((v, i, ar) => (\n              <Field\n                className=\"field\"\n                key={i}\n                value={board[i]}\n                chooseField={() => {\n                  chooseField(i);\n                }}\n              />\n            ))\n            }\n          </div>\n        </div>\n\n        <div className=\"frame right\">\n          <p>\n            Score\n          </p>\n          <p>\n            {`${player1 && player1}:\n            ${win1 && win1}`}\n          </p>\n          <p>\n            {`${player2 && player2}:\n            ${win1 && win2}`}\n          </p>\n        </div>\n        <Modal\n          active={modalActive}\n          setActive={setModalActive}\n          submitPlayers={submitPlayers}\n          name1={name1}\n          name2={name2}\n          setName1={setName1}\n          setName2={setName2}\n        />\n      </div>\n    </div>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './styles.css';\n\nimport App from './App';\n\nReactDOM.render(\n  <App />,\n  document.getElementById('root'),\n);\n"],"sourceRoot":""}